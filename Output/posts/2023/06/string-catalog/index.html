<!DOCTYPE html><html><head><meta charset="UTF-8"/><meta property="og:site_name" content="Danijela's blog"/><link rel="canonical" href="https://www.danijelavrzan.com/posts/2023/06/string-catalog"/><meta name="twitter:url" content="https://www.danijelavrzan.com/posts/2023/06/string-catalog"/><meta property="og:url" content="https://www.danijelavrzan.com/posts/2023/06/string-catalog"/><title>Localize your app with String Catalog | Danijela's blog</title><meta name="twitter:title" content="Localize your app with String Catalog | Danijela's blog"/><meta property="og:title" content="Localize your app with String Catalog | Danijela's blog"/><meta name="description" content="Localizing your app is a big part of making it more inclusive and available to people in other languages. Apple has made it easier for developers to localize our apps. Starting with Xcode 15 and String Catalogs."/><meta name="twitter:description" content="Localizing your app is a big part of making it more inclusive and available to people in other languages. Apple has made it easier for developers to localize our apps. Starting with Xcode 15 and String Catalogs."/><meta property="og:description" content="Localizing your app is a big part of making it more inclusive and available to people in other languages. Apple has made it easier for developers to localize our apps. Starting with Xcode 15 and String Catalogs."/><meta name="twitter:card" content="summary_large_image"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Danijela's blog"/><meta name="twitter:image" content="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog.png"/><meta property="og:image" content="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog.png"/></head><head><script src="https://cdn.telemetrydeck.com/websdk/telemetrydeck.min.js" data-app-id="47BA20EC-6342-4CAA-88C2-3B4AD29DB8B9"></script></head><body><header><div class="wrapper"><a href="/"><img src="https://www.danijelavrzan.com/images/logo.png" aria-label="Danijela Vrzan text logo header" class="banner-img"/></a><p class="banner-title">iOS DEVELOPER</p><p class="banner-subtitle">WRITER. SPEAKER.</p><nav><ul><li><a href="/posts" class="selected">Posts</a></li><li><a href="/speaking">Speaking</a></li><li><a href="/about">About</a></li></ul></nav></div></header><div class="wrapper item-page"><div class="article-metadata"><ul class="tag-list"><li><a href="/tags/xcode" class="xcode-tag">xcode</a></li><li><a href="/tags/swift" class="swift-tag">swift</a></li></ul><p class="item-metadata">14 Jun, 2023 • 7 minute read</p></div><article><div class="content"><h1>Localize your app with String Catalog</h1><p>Localizing your app is a big part of making it more inclusive and available to people in other languages.</p><p>Previously, if you wanted to localize your app, you had to maintain <code>strings</code> and <code>stringsdict</code> files yourself. It was a lot of manual work that often resulted in missing localized content.</p><p>Apple has made it easier for developers to localize our apps, starting with Xcode 15 and <strong>String Catalogs</strong>.</p><blockquote><p>You can start using String Catalog with Xcode 15 and it's back deployable to any OS, no minimum version required!</p></blockquote><h2>String Catalog</h2><p>String Catalog makes it easy to manage all your strings in one place and make sure your content is fully localized before the app reaches your users.</p><p>We'll localize this small app for ordering books:</p><img src="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog-01.png "iPhone showing Buy Books screen in an app"" alt="iPhone showing Buy Books screen in an app"/><p>Localizing your app is as easy as creating a new file under <strong>File</strong> -&gt; <strong>New</strong> -&gt; <strong>File...</strong> and selecting <strong>String Catalog</strong> under <strong>Resources</strong>. Name your new file and once you click <strong>Create</strong>, that's it!</p><img src="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog-02.png "Xcode screen with an Empty String Catalog warning"" alt="Xcode screen with an Empty String Catalog warning"/><p>Almost.</p><p>String Catalog generates and updates your localizable strings on build time. If you're creating a new catalog, you need to build your project to populate the strings.</p><p>Build the project in Xcode and you'll see all your strings automatically added to the table.</p><img src="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog-03.png "String Catalog in Xcode with populated strings"" alt="String Catalog in Xcode with populated strings"/><h2>Build Settings</h2><p>String Catalog uses a technology in the Swift compiler to extract localizable Swift strings. For this reason, make sure you've enabled the build setting <strong>Use Compiler to Extract Swift Strings</strong> under <strong>Localization</strong>:</p><img src="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog-04.png "Use Compiler to Extract Swift Strings build setting"" alt="Use Compiler to Extract Swift Strings build setting"/><h2>Localizable String</h2><p>Localizable strings are found in source code, interface builder files and even Info plists.</p><p>Take a look at this <code>String</code>:</p><pre><code><span class="type">String</span>(
	localized: <span class="string">"buy.books.title"</span>,
	defaultValue: <span class="string">"Buy Books"</span>,
	table: <span class="string">"Purchases"</span>,
	comment: <span class="string">"Screen title for buying books"</span>
)
</code></pre><p>Localizable strings have four components. The first one is the <code>Key</code>, a unique identifier for your string. It can be equal to the string itself or any other format you like. For example, the key for the title string could be "Buy Books" or "buy.books.title".</p><p>If you have a string with a key as "buy.books.title", you'd want to give it a <code>Value</code> of "Buy Books". Value is optional and if not provided, the default value is your key. You'll see shortly why you'd want to have your key in this format for some of your strings.</p><p>Next, <code>Comment</code> provides a way to give your translators context around a specific string to provide a proper translation. It's not a required field, but it's recommended.</p><p>And finally, you can specify the <code>Table</code> where you want your string stored. You can have multiple tables, depending on your use case. By default, strings from your code get generated in "Localizable" catalog.</p><blockquote><p>String Catalog contains an entire string table in a single <code>.xcstrings</code> file. Your project can have more tables if needed.</p></blockquote><p>Every time you create a string literal in your code, it automatically becomes localizable. Whether you specify it inside a <code>View</code> or create a <code>String</code> variable:</p><pre><code><span class="keyword">struct</span> ContentView: <span class="type">View</span> {
    <span class="keyword">var</span> cancelOrderNew = <span class="type">String</span>(
        localized: <span class="string">"Cancel.order.new"</span>,
        defaultValue: <span class="string">"Cancel"</span>,
        comment: <span class="string">"Cancel button on the new order screen"</span>
    )
    
    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
        <span class="type">HStack</span>(spacing: <span class="number">30</span>) {
            <span class="comment">// `Cancel` button</span>
            <span class="type">Button</span> {
                <span class="comment">// action</span>
            } label: {
                <span class="type">Text</span>(cancelOrderNew)
            }
            <span class="comment">// `Buy` button</span>
            <span class="type">Button</span>(<span class="string">"Buy"</span>) {
                <span class="comment">// action</span>
            }
        }
    }
}
</code></pre><h3>Non-localizable strings</h3><p>If you want to mark your string as non-localizable and exclude it from localization, initialize it with <code>init(verbatim:)</code> initializer instead.</p><pre><code><span class="type">Text</span>(verbatim: <span class="string">"AppName"</span>)
</code></pre><p>This comes useful for strings like your app name that don't need to localization and will always display the same in all languages.</p><p>If string was already added to the String Catalog, it will be automatically removed on build time.</p><h2>Adding other languages</h2><p>To localize your app in another language, click the <strong>+</strong> button at the bottom left of the table and choose a new language. It will add the new language and populate all the strings for you.</p><img src="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog-05.png "String Catalog in Xcode with populated strings in Croatian language"" alt="String Catalog in Xcode with populated strings in Croatian language"/><p>It also shows you the percentage of your localized strings and updates the status to <code>NEW</code>, until all strings have been reviewed.</p><p>There are a few different <strong>STATE</strong> status badges available:</p><ul><li><code>STALE</code> - string is not found in the code anymore.</li><li><code>NEW</code> - a new string you haven't yet translated.</li><li><code>NEEDS REVIEW</code> - string has changed in the code and you might want to take a look to make sure it's still valid.</li><li><code>TRANSLATED</code> - string has been translated in the selected language and no action is needed.</li></ul><h2>Different localization keys for the same string</h2><p>Some languages vary the localized text based on the given context.</p><p>It's likely you'll have to repeat the same string in your app on multiple screens. One of the common examples is a <strong>Cancel</strong> button. In English, the Cancel button is always the same string, but in some other languages, like Croatian, it can have different strings based on the surrounding context.</p><p>This is where you'd want to define a different key for the string with a default value.</p><pre><code><span class="keyword">var</span> cancelOrderInProgress = <span class="type">String</span>(
    localized: <span class="string">"Cancel.order.in.progress"</span>,
    defaultValue: <span class="string">"Cancel"</span>,
    comment: <span class="string">"Cancel button on the orders in progress screen"</span>
)
<span class="keyword">var</span> cancelOrderNew = <span class="type">String</span>(
    localized: <span class="string">"Cancel.order.new"</span>,
    defaultValue: <span class="string">"Cancel"</span>,
    comment: <span class="string">"Cancel button on the new order screen"</span>
)
</code></pre><blockquote><p>Keys have to be unique inside a table.</p></blockquote><p>Make sure to add a comment here so your translator knows the surrounding context. It's a good idea to always add comments, not only for your translators, but for yourself as well.</p><h2>Word variations</h2><p>String Catalog comes with a built-in feature for localizing different word variations.</p><h3>Vary by Device</h3><p>Some strings have different variations depending on the device your app is being used.</p><pre><code><span class="type">Link</span>(
    destination: <span class="type">URL</span>(string: <span class="string">"https://www.url.com"</span>)!,
    label: {
        <span class="type">Text</span>(<span class="string">"Tap to learn more!"</span>)
    }
)
</code></pre><p>"Tap to learn more!" works well for an iPhone or an Apple Watch, but users can't tap on their Macs. In the String Catalog, you can <strong>right-click</strong> on a table row and add a <strong>Vary by Device</strong>. This will add a new entry where you can specify a different string for a Mac, or any other Apple device on the list.</p><img src="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog-06.png "String Catalog in Xcode with vary by device option"" alt="String Catalog in Xcode with vary by device option"/><h3>Vary by Plural</h3><p>It's never been easier to localize plural words too. <strong>Right-click</strong> the table row and add <strong>Vary by Plural</strong>.</p><img src="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog-07.png "String Catalog in Xcode vary by plural option"" alt="String Catalog in Xcode with vary by plural option"/><p>In English language, every plural word is the same - "books". However, Croatian is not that simple. There are different variants in the plural. For a few books, or 2, 3 and 4, the plural word is different. For 5 - 10 books the word is the same as for a single book.</p><p>It's confusing, let me show you.</p><img src="https://www.danijelavrzan.com/images/posts/2023/06/string-catalog-08.png "String Catalog in Xcode vary by plural option"" alt="String Catalog in Xcode with vary by plural option"/><p>Apple made sure to add all the different variants for different languages. It's awesome how easy it is to localize your app now!</p><h2>Custom Views</h2><p>If you're creating custom views in your app and passing strings to other views, your strings need to be of type <code>LocalizedStringResource</code>, instead of <code>String</code>, if you want them localized.</p><pre><code><span class="keyword">struct</span> CustomView: <span class="type">View</span> {
    <span class="keyword">var</span> title: <span class="type">LocalizedStringResource</span>
    <span class="keyword">var</span> subtitle: <span class="type">LocalizedStringResource</span>
    
    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
        <span class="type">VStack</span> {
            <span class="type">Text</span>(title)
            <span class="type">Text</span>(subtitle)
        }
    }
}
</code></pre><h2>Migrating to String Catalog</h2><p>String Catalog can coexist with your current localizable strings. Once you're ready to migrate to the new format, <strong>right-click</strong> the <code>.strings</code> file and choose <strong>Migrate to String Catalog</strong>.</p><p>You'll see a new window with all your <code>.strings</code> and <code>.stringsdict</code> files where you can select ones that you want to migrate. Click <strong>Migrate</strong> and you're all done!</p><h2>Final Thoughts</h2><p>You still need translators to translate all your strings, but String Catalog makes it easier than ever to localize your apps. Your code is the source of truth for all your strings and you don't have to manage them manually anymore.</p><p>If you want to learn more, watch the <a href="https://developer.apple.com/videos/play/wwdc2023/10155/">Discover String Catalogs</a> session from WWDC23.</p><hr><p>Please feel free to reach out on <a href="https://twitter.com/dvrzan">Twitter</a> if you have any questions, comments, or feedback.</p><p>Thank you for reading and happy coding!</p></div></article></div><footer><p>Copyright © 2021-2025 Danijela Vrzan. All Rights Reserved.</p><p>Built in Swift using <a href="https://github.com/johnsundell/publish" target="_blank">Publish.</a> <a href="/feed.rss" target="_blank">RSS.</a></p></footer></body></html>
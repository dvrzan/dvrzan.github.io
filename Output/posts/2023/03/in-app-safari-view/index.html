<!DOCTYPE html><html><head><meta charset="UTF-8"/><meta name="og:site_name" content="Danijela's blog"/><link rel="canonical" href="https://www.danijelavrzan.com/posts/2023/03/in-app-safari-view"/><meta name="twitter:url" content="https://www.danijelavrzan.com/posts/2023/03/in-app-safari-view"/><meta name="og:url" content="https://www.danijelavrzan.com/posts/2023/03/in-app-safari-view"/><title>Display in-app web content with SFSafariViewController in SwiftUI | Danijela's blog</title><meta name="twitter:title" content="Display in-app web content with SFSafariViewController in SwiftUI | Danijela's blog"/><meta name="og:title" content="Display in-app web content with SFSafariViewController in SwiftUI | Danijela's blog"/><meta name="description" content="In SwiftUI, you can use Link to let the user open a website in their default web browser. But sometimes you want them to stay in your app; to read privacy policy or similar. In that case, you have different options to present web content without the user ever leaving your app."/><meta name="twitter:description" content="In SwiftUI, you can use Link to let the user open a website in their default web browser. But sometimes you want them to stay in your app; to read privacy policy or similar. In that case, you have different options to present web content without the user ever leaving your app."/><meta name="og:description" content="In SwiftUI, you can use Link to let the user open a website in their default web browser. But sometimes you want them to stay in your app; to read privacy policy or similar. In that case, you have different options to present web content without the user ever leaving your app."/><meta name="twitter:card" content="summary_large_image"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Danijela's blog"/><meta name="twitter:image" content="https://www.danijelavrzan.com/images/posts/2023/03/in-app-safari-view.png"/><meta name="og:image" content="https://www.danijelavrzan.com/images/posts/2023/03/in-app-safari-view.png"/></head><head><script src="https://www.googletagmanager.com/gtag/js?id=G-B5B41JSFC7"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B5B41JSFC7');</script></head><body><header><div class="wrapper"><a href="/"><img src="/images/logo.png" aria-label="Danijela Vrzan text logo header" class="banner-img"/></a><p class="banner-title">iOS DEVELOPER</p><p class="banner-subtitle">AUTHOR. SPEAKER.</p><nav><ul><li><a href="/posts" class="selected">Posts</a></li><li><a href="/speaking">Speaking</a></li><li><a href="/about">About</a></li></ul></nav></div></header><div class="wrapper item-page"><div class="article-metadata"><ul class="tag-list"><li><a href="/tags/swift" class="swift-tag">swift</a></li><li><a href="/tags/swiftui" class="swiftUI-tag">swiftUI</a></li></ul><p class="item-metadata">21 Mar, 2023 • 3 minute read</p></div><article><div class="content"><h1>Display in-app web content with SFSafariViewController in SwiftUI</h1><p>You can use <code>Link</code> to let users open a website in their web browser, outside of your app. But sometimes you want to present web content and don't want the users to leave your app.</p><p>To implement this feature, we have two available APIs: <a href="https://developer.apple.com/documentation/webkit/wkwebview">WKWebView</a> and <a href="https://developer.apple.com/documentation/safariservices/sfsafariviewcontroller">SFSafariViewController</a>. Which one you choose, depends on the experience you want to provide.</p><p><code>WKWebView</code> is part of the <strong>WebKit</strong> framework. It allows you to embed web content into your app. You can embed entire views or parts of your UI. Use it when you need to incorporate web content into your app alongside your app's native views. It's flexible and highly customizable. If you have to assign a custom user agent, then this API is for you.</p><p><code>SFSafariViewController</code> is part of the <strong>SafariServices</strong> framework. It allows you to present a website from within your app. Users will never leave your app and they get the same experience as if they were using Safari, including password auto-fill and all security Safari provides. Use it when you need to display websites you don't own or present parts of web content that's out of scope of your app.</p><blockquote><p>Always make sure the view controller is visibly present and never track users without their consent or you'll be in violation with the <a href="https://developer.apple.com/app-store/review/guidelines/">App Store Review Guidelines</a>.</p></blockquote><p>In this article, you'll learn how to use the latter.</p><h2>Wrap the View Controller</h2><p><code>SFSafariViewController</code>, as the name suggests, is a <strong>UIKit</strong> component. To use it in your SwiftUI app, you need to create a view that represents a UIKit view controller by implementing the <code>UIViewControllerRepresentable</code> protocol.</p><p>First, import <strong>SwiftUI</strong> and <strong>SafariServices</strong> frameworks. Create the <strong>SafariViewWrapper</strong> and conform to the <code>UIViewControllerRepresentable</code> protocol. Implement the required methods:</p><pre><code><span class="keyword">import</span> SwiftUI
<span class="keyword">import</span> SafariServices

<span class="keyword">struct</span> SafariViewWrapper: <span class="type">UIViewControllerRepresentable</span> {
    <span class="keyword">let</span> url: <span class="type">URL</span>

    <span class="keyword">func</span> makeUIViewController(
        context: <span class="type">UIViewControllerRepresentableContext</span>&lt;<span class="type">Self</span>&gt;
    ) -&gt; <span class="type">SFSafariViewController</span> {
        <span class="keyword">return</span> <span class="type">SFSafariViewController</span>(url: url)
    }

    <span class="keyword">func</span> updateUIViewController(
        <span class="keyword">_</span> uiViewController: <span class="type">SFSafariViewController</span>,
        context: <span class="type">UIViewControllerRepresentableContext</span>&lt;<span class="type">SFSafariViewWrapper</span>&gt;
    ) {}
}
</code></pre><p>Since you're only presenting a website, in the <code>makeUIViewController(context:)</code> method you return the <code>SFSafariViewController(url:)</code> and pass the <strong>url</strong> as an argument.</p><p><code>updateUIViewController(_ :context:)</code> is required for protocol conformance, but we don't need to do any updates so we can leave it empty. You're only presenting a website, in this case.</p><h2>SafariView</h2><p>You can call the <code>SafariViewWrapper</code> directly, but I like to create a reusable View component because it's likely I'll need to use it multiple times.</p><p>Create a <strong>SafariView</strong> with <code>showSafari</code> state property and pass in the <code>title</code> and <code>url</code>:</p><pre><code><span class="keyword">import</span> SwiftUI

<span class="keyword">struct</span> SafariView: <span class="type">View</span> {
    <span class="keyword">@Binding var</span> showSafari: <span class="type">Bool</span>
    <span class="keyword">var</span> title: <span class="type">String</span>
    <span class="keyword">var</span> url: <span class="type">String</span>
    
    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
        <span class="type">Button</span>(title) {
            showSafari = <span class="keyword">true</span>
        }
        .<span class="call">popover</span>(isPresented: <span class="property">$showSafari</span>) {
            <span class="type">SafariViewWrapper</span>(url: <span class="type">URL</span>(string: url)!)
        }
    }
}
</code></pre><p>You create a <strong>Button</strong> with a title that updates the presentation state of the popover when the user taps on it. You can also present the website as a full screen cover, but in this example, I'm using a modal popover.</p><p>Finally, you can implement it in any View:</p><pre><code><span class="type">SafariView</span>(
    showSafari: <span class="property">$showSafari</span>,
    title: <span class="string">"My Website"</span>,
    url: <span class="string">"https://www.danijelavrzan.com"</span>
)
</code></pre><p>Add the <code>@State private var showSafari = false</code> at the beginning of your view to pass in the state to the child view to present the popover. Give the link an appropriate title and a url.</p><p>When you tap the link, you'll see the website inside your app.</p><img src="https://www.danijelavrzan.com/images/posts/2023/03/in-app-safari-view-01.png "In-app website popover presented using the SFSafariViewController"" alt="In-app website popover presented using the SFSafariViewController"/><h2>Final Thoughts</h2><p>At the time of writing, there's no SwiftUI way of presenting an in-app web view so we have to resort to using UIKit APIs. But using them interchangeably is not a big task. They pair nicely with each other.</p><p>You can wrap any UIKit controller into a SwiftUI view and vice versa.</p><p>If you're interested in learning more how you can use both SwiftUI and UIKit to build responsive UIs, this talk from <a href="https://twitter.com/b3ll">Adam Bell</a> at iOS Conf SG 2023 is a good watch: <a href="https://www.youtube.com/watch?v=Vbpr9xp7XKk">Building Responsive Interactions</a>.</p><hr><p>Please feel free to reach out on <a href="https://twitter.com/dvrzan">Twitter</a> if you have any questions, comments, or feedback.</p><p>Thank you for reading and happy coding!</p></div></article></div><footer><p>Copyright © 2022-2023 Danijela Vrzan. All Rights Reserved.</p><p>Built in Swift using <a href="https://github.com/johnsundell/publish" target="_blank">Publish.</a> <a href="/feed.rss" target="_blank">RSS.</a></p></footer></body></html>
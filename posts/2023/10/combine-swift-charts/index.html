<!DOCTYPE html><html><head><meta charset="UTF-8"/><meta property="og:site_name" content="Danijela's blog"/><link rel="canonical" href="https://www.danijelavrzan.com/posts/2023/10/combine-swift-charts"/><meta name="twitter:url" content="https://www.danijelavrzan.com/posts/2023/10/combine-swift-charts"/><meta property="og:url" content="https://www.danijelavrzan.com/posts/2023/10/combine-swift-charts"/><title>Combine charts to create stunning designs with Swift Charts | Danijela's blog</title><meta name="twitter:title" content="Combine charts to create stunning designs with Swift Charts | Danijela's blog"/><meta property="og:title" content="Combine charts to create stunning designs with Swift Charts | Danijela's blog"/><meta name="description" content="SwiftCharts framework makes it easy to add charts to your app and display the data to your users in a visually pleasing way. In this article, we'll design a custom chart to display weight tracking data over a period of one week. We'll utilize line chart and area chart to make our graph look more stylish."/><meta name="twitter:description" content="SwiftCharts framework makes it easy to add charts to your app and display the data to your users in a visually pleasing way. In this article, we'll design a custom chart to display weight tracking data over a period of one week. We'll utilize line chart and area chart to make our graph look more stylish."/><meta property="og:description" content="SwiftCharts framework makes it easy to add charts to your app and display the data to your users in a visually pleasing way. In this article, we'll design a custom chart to display weight tracking data over a period of one week. We'll utilize line chart and area chart to make our graph look more stylish."/><meta name="twitter:card" content="summary_large_image"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Danijela's blog"/><meta name="twitter:image" content="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts.png"/><meta property="og:image" content="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts.png"/></head><head><script src="https://www.googletagmanager.com/gtag/js?id=G-B5B41JSFC7"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B5B41JSFC7');</script></head><body><header><div class="wrapper"><a href="/"><img src="/images/logo.png" aria-label="Danijela Vrzan text logo header" class="banner-img"/></a><p class="banner-title">iOS DEVELOPER</p><p class="banner-subtitle">WRITER. SPEAKER.</p><nav><ul><li><a href="/posts" class="selected">Posts</a></li><li><a href="/speaking">Speaking</a></li><li><a href="/about">About</a></li></ul></nav></div></header><div class="wrapper item-page"><div class="article-metadata"><ul class="tag-list"><li><a href="/tags/swiftui" class="swiftUI-tag">swiftUI</a></li><li><a href="/tags/design" class="design-tag">design</a></li></ul><p class="item-metadata">18 Oct, 2023 • 8 minute read</p></div><article><div class="content"><h1>Combine charts to create stunning designs with Swift Charts</h1><p><a href="https://developer.apple.com/documentation/charts">Swift Charts</a> is a data visualization framework that can be used with SwiftUI to create powerful customizable charts with minimal code. Use it to present your app's data in a visually pleasing way.</p><blockquote><p>Swift Charts were announced at <strong>WWDC22</strong> and are available to use with <strong>iOS 16.0+</strong>.</p></blockquote><p>There are many different chart types available; including line charts, bar charts, area charts, and scatter plot charts. They are easy to use and offer a wide range of customization options. You can apply different modifiers to override default behavior and add animations.</p><p>Localization and accessibility features are supported as well.</p><p>In this article, we'll design a custom chart to display weight tracking data over a period of one week. We'll utilize <strong>Line Chart</strong> and <strong>Area Chart</strong> to make our graph look more stylish.</p><p>Final chart will look like this:</p><img src="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts-01.png "iPhone showing a screen with a custom chart displaying weight tracking data over a period of a week"" alt="iPhone showing a screen with a custom chart displaying weight tracking data over a period of a week"/><h2>Data Model</h2><p>To create the chart, we need data. We'll use a model that stores the weight and the date the weight was measured. Then we'll add some test data for a period of one week.</p><pre><code><span class="comment">// Data Model</span>
<span class="keyword">struct</span> TestWeight: <span class="type">Identifiable</span> {
    <span class="keyword">var</span> id = <span class="type">UUID</span>()
    <span class="keyword">var</span> weight: <span class="type">Double</span>
    <span class="keyword">var</span> date: <span class="type">Date</span>

    <span class="keyword">init</span>(id: <span class="type">UUID</span> = <span class="type">UUID</span>(), weight: <span class="type">Double</span>, day: <span class="type">Int</span>) {
        <span class="keyword">self</span>.<span class="property">id</span> = id
        <span class="keyword">self</span>.<span class="property">weight</span> = weight
        <span class="keyword">let</span> calendar = <span class="type">Calendar</span>.<span class="property">current</span>
        <span class="keyword">self</span>.<span class="property">date</span> = calendar.<span class="call">date</span>(from: <span class="type">DateComponents</span>(year: <span class="number">2023</span>, month: <span class="number">10</span>, day: day))!
    }
}

<span class="comment">// Test data</span>
<span class="keyword">var</span> weight: [<span class="type">TestWeight</span>] = [
    <span class="type">TestWeight</span>(weight: <span class="number">69.4</span>, day: <span class="number">2</span>),
    <span class="type">TestWeight</span>(weight: <span class="number">69.2</span>, day: <span class="number">3</span>),
    <span class="type">TestWeight</span>(weight: <span class="number">70.0</span>, day: <span class="number">4</span>),
    <span class="type">TestWeight</span>(weight: <span class="number">69.7</span>, day: <span class="number">5</span>),
    <span class="type">TestWeight</span>(weight: <span class="number">69.0</span>, day: <span class="number">6</span>),
    <span class="type">TestWeight</span>(weight: <span class="number">68.8</span>, day: <span class="number">7</span>),
    <span class="type">TestWeight</span>(weight: <span class="number">68.0</span>, day: <span class="number">8</span>)
]
</code></pre><h2>Implement Line Chart</h2><p>Before creating a chart, you need to <code>import Charts</code> at the top of the file.</p><p>We'll start with the basic line chart called <code>LineMark</code>, the one you get out-of-the-box.</p><pre><code><span class="type">Chart</span> {
    <span class="type">ForEach</span>(weight) { data <span class="keyword">in</span>
        <span class="type">LineMark</span>(
            x: .<span class="call">value</span>(<span class="string">"Day"</span>, data.<span class="property">date</span>, unit: .<span class="dotAccess">day</span>),
            y: .<span class="call">value</span>(<span class="string">"Weight"</span>, data.<span class="property">weight</span>)
        )
        .<span class="call">foregroundStyle</span>(<span class="type">Color</span>.<span class="property">pink</span>)
    }
}
.<span class="call">frame</span>(height: <span class="number">150</span>)
</code></pre><p><code>LineMark</code> displays the data in a sequence of connected line segments. It has an <strong>x</strong> and <strong>y</strong> positions. We iterate over the <code>weight</code> data and display the <code>date</code> on the <strong>x-axis</strong> and <code>weight</code> on the <strong>y-axis</strong>.</p><p>You can use the <code>.foregroundStyle()</code> modifier to add a color to your chart. I'm using the system <code>.pink</code>.</p><img src="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts-02.png "Line Chart showing weight data on the y-axis and dates on the x-axis"" alt="Line Chart showing weight data on the y-axis and dates on the x-axis"/><p>The chart looks great considering we just used the basic line chart with no customization. One of the biggest issues at the moment, is the chart looks almost like a straight line.</p><p>That's because our weight data doesn't change in value drastically day by day. That's a good thing as far as the data is concerned! However, it doesn't look very good and you can't really see the change.</p><h2>Override default chart elements</h2><p>We'll customize the chart to scale better for our specific use case.</p><p>There are many different customization options available to create amazing charts. It depends what data you're displaying and how you want to design the chart. We'll go through a few different options.</p><h3>Add a symbol</h3><p>We'll add a circle symbol to mark the days the weight change happened so we can see it more clearly. Add the <code>.symbol()</code> modifier to the <code>LineMark</code> with a circle shape:</p><pre><code>.<span class="call">symbol</span> {
    <span class="type">Circle</span>()
        .<span class="call">fill</span>(<span class="type">Color</span>.<span class="property">pink</span>)
        .<span class="call">frame</span>(width: <span class="number">8</span>)
}
</code></pre><p>Your chart will now look like this:</p><img src="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts-03.png "Line Chart showing weight data on the y-axis and dates on the x-axis with a symbol"" alt="Line Chart showing weight data on the y-axis and dates on the x-axis with a symbol"/><p>Much better!</p><h3>Customize the x-axis</h3><p>The bottom of the chart, or x-axis, shows the days in a short date format in incremental values of two, so every other day. I want to show my data for every day of the week. We'll customize the x-axis to display the data how we want to.</p><p>For that, we have the <code>chartXAxis(content:)</code> modifier.</p><p>Let's use it to modify our x-axis. Add the modifier to the <code>Chart()</code> below the frame:</p><pre><code>.<span class="call">chartXAxis</span> {
    <span class="type">AxisMarks</span>(values: .<span class="call">stride</span>(by: .<span class="dotAccess">day</span>)) { <span class="keyword">_ in</span>
        <span class="type">AxisTick</span>()
        <span class="type">AxisGridLine</span>()
        <span class="type">AxisValueLabel</span>(format: .<span class="dotAccess">dateTime</span>.<span class="call">weekday</span>(.<span class="dotAccess">abbreviated</span>), centered: <span class="keyword">true</span>)
    }
}
</code></pre><p><code>AxisMarks</code> defines group of visual marks that a chart draws to indicate the composition of a chart’s axes. It allows us to define properties like the grid line and the value label.</p><p>We changed the label format to show the days of the week in <code>.abbreviated</code> format.</p><img src="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts-04.png "Line Chart showing weight data on the y-axis and days of the week on the x-axis"" alt="Line Chart showing weight data on the y-axis and days of the week on the x-axis"/><h3>Customize the y-axis scale</h3><p>The y-axis scale presents a <em>problem</em> in our case. It's very unlikely someone will have a weight of 0. And even although the weight changes every day, it's not going to change drastically.</p><p>We'll add another modifier to the chart called <code>.chartYScale</code> and add a custom scale that makes more sense for our data.</p><pre><code>.<span class="call">chartYScale</span>(domain: <span class="number">62</span>...<span class="number">70</span>)
</code></pre><p>I'm using hard-coded values from <strong>62 - 70</strong>. If you were implementing this yourself, you'd want to make these values dynamic.</p><img src="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts-05.png "Line Chart showing weight data on the y-axis with custom scale and days of the week on the x-axis"" alt="Line Chart showing weight data on the y-axis with custom scale and days of the week on the x-axis"/><p>The bottom value of <strong>62</strong> correlates to the <strong>weight goal</strong> the user has set for themselves, which we'll set with the value of <strong>63</strong>. The bottom value is the <strong>goal weight - 1</strong>. This is intentional.</p><p>We'll add a rule mark to display the goal weight for the user and move that line by 1 on the chart so there's some space between the goal line and the x-axis.</p><h2>Add a Rule Mark</h2><p>Next, we'll add a rule mark or the weight goal line. We want the user is track their weight and see where they stand compared to their weight goal. We'll use a weight goal of <strong>63</strong>.</p><pre><code><span class="comment">// Line Chart

// Rule mark for the goal weight</span>
<span class="type">RuleMark</span>(y: .<span class="call">value</span>(<span class="string">"Goal Weight"</span>, <span class="number">63</span>))
    .<span class="call">foregroundStyle</span>(<span class="type">Color</span>.<span class="property">secondary</span>)
    .<span class="call">lineStyle</span>(<span class="type">StrokeStyle</span>(lineWidth: <span class="number">0.8</span>, dash: [<span class="number">10</span>]))
    .<span class="call">annotation</span>(alignment: .<span class="dotAccess">topTrailing</span>) {
        <span class="type">Text</span>(<span class="string">"Your Goal:  63 kg"</span>)
            .<span class="call">font</span>(.<span class="dotAccess">subheadline</span>).<span class="call">bold</span>()
            .<span class="call">padding</span>(.<span class="dotAccess">trailing</span>, <span class="number">32</span>)
            .<span class="call">foregroundStyle</span>(<span class="type">Color</span>.<span class="property">secondary</span>)
    }
</code></pre><p>Rule mark adds a line graph to your chart and it can be positioned on the x or y axis. We added a rule mark on the x axis with the value of <strong>63</strong>. I want to add some style to it so I added a custom dashed line style and annotated the graph to display the goal weight data on the graph itself.</p><img src="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts-06.png "Line Chart showing goal weight as a rule mark"" alt="Line Chart showing goal weight as a rule mark"/><p>Now that's starting to look quite nice!</p><h2>Add an Area Chart</h2><p>The graph looks nice, but I want to make it even better. It looks empty so I want to color the area below the graph to give it some <em>life</em>.</p><p>We'll add an area chart and apply some custom styling.</p><p>Add an <code>AreaMark</code> to the chart below the <code>RuleMark</code>:</p><pre><code><span class="comment">// Line Chart

// Rule mark for the goal weight

// Area Chart</span>
<span class="type">ForEach</span>(weight) { data <span class="keyword">in</span>
    <span class="type">AreaMark</span>(
        x: .<span class="call">value</span>(<span class="string">"Day"</span>, data.<span class="property">date</span>, unit: .<span class="dotAccess">day</span>),
        yStart: .<span class="call">value</span>(<span class="string">"WeightLow"</span>, <span class="number">63</span>),
        yEnd: .<span class="call">value</span>(<span class="string">"WeightLow"</span>,  data.<span class="property">weight</span>)
    )
  .<span class="call">foregroundStyle</span>(<span class="type">Color</span>.<span class="property">pink</span>)
}
</code></pre><p><code>AreaMark</code> can be initialized with the same <strong>x</strong> and <strong>y axis</strong> properties. In this case, we used a different initializer with the <strong>x</strong>, <strong>yStart</strong>, and <strong>yEnd</strong> properties. We need this initializer to apply our custom color formatting.</p><p>The <code>x</code> value is the horizontal position on the chart, or where our area chart starts and ends on the x-axis.</p><p><code>yStart</code> value is the bottom vertical constraint for the area chart on the y-axis. It's set to the value of the rule mark, or the goal weight. This is where we want the color to start.</p><p><code>yEnd</code> is the top vertical constraint for the area chart on the y-axis. The values correspond to the same values as the line chart so the charts blend in without overlapping. This is where our color will end.</p><p>It doesn't look good with the solid color, so we need to create a new gradient color for it. I've played around with the opacity values to make it look nice for this one.</p><pre><code><span class="keyword">var</span> gradientColor: <span class="type">LinearGradient</span> {
    <span class="type">LinearGradient</span>(
        gradient: <span class="type">Gradient</span>(
            colors: [
                <span class="type">Color</span>.<span class="property">pink</span>.<span class="call">opacity</span>(<span class="number">0.8</span>),
                <span class="type">Color</span>.<span class="property">pink</span>.<span class="call">opacity</span>(<span class="number">0.01</span>),
            ]
        ),
        startPoint: .<span class="dotAccess">top</span>,
        endPoint: .<span class="dotAccess">bottom</span>
    )
}
</code></pre><p>Now change the foreground style from <code>Color.pink</code> to <code>gradientColor</code>.<br><br>And that's it! We have our custom chart.</p><img src="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts-07.png "Custom line chart with gradient colored area below the chart"" alt="Custom line chart with gradient colored area below the chart"/><h2>Add some information about the chart</h2><p>For the final design, we'll add our chart to a <code>VStack</code> and add some information about the chart.</p><pre><code><span class="type">VStack</span>(alignment: .<span class="dotAccess">leading</span>) {
    <span class="type">VStack</span>(alignment: .<span class="dotAccess">leading</span>) {
        <span class="type">Text</span>(<span class="string">"Weight"</span>)
            .<span class="call">font</span>(.<span class="dotAccess">title3</span>).<span class="call">bold</span>()
        <span class="type">Text</span>(<span class="string">"Last 7 days"</span>)
            .<span class="call">font</span>(.<span class="dotAccess">subheadline</span>)
            .<span class="call">foregroundStyle</span>(.<span class="dotAccess">secondary</span>)
            .<span class="call">padding</span>(.<span class="dotAccess">bottom</span>)
    }
    
    <span class="type">Chart</span>()
}
</code></pre><p>Now it looks much better!</p><img src="https://www.danijelavrzan.com/images/posts/2023/10/combine-swift-charts-08.png "Custom line chart with gradient colored area below the chart and informational text above the chart"" alt="Custom line chart with gradient colored area below the chart and informational text above the chart"/><h2>Final Thoughts</h2><p>SwiftCharts really makes it easy to add charts to your app and display the data to your users in a visually pleasing way. Much better than a list of raw data values.</p><p>Default charts are well designed and can be used without much customization. But if you want to customize any part of the chart, there are many different modifiers available.</p><p>I've had a lot of fun playing with this chart and I hope you will too. If you've played around and created some custom charts yourself, let me know! I'm interested to see your amazing creations.</p><hr><p>Please feel free to reach out on <a href="https://twitter.com/dvrzan">Twitter</a> if you have any questions, comments, or feedback.</p><p>Thank you for reading and happy coding!</p></div></article></div><footer><p>Copyright © 2023 Danijela Vrzan. All Rights Reserved.</p><p>Built in Swift using <a href="https://github.com/johnsundell/publish" target="_blank">Publish.</a> <a href="/feed.rss" target="_blank">RSS.</a></p></footer></body></html>